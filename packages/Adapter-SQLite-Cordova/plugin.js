!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";(function(e){function n(e,n,i){t.setFast(function(){var t;try{t=n.apply(null,i)}catch(t){return b._reject(e,t)}return t===e?b._reject(e,new TypeError):b._resolve(e,t),null})}function i(e){var t=e&&e.then;return!e||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof t?null:function(){t.apply(e,arguments)}}function r(e,t){function n(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,b._reject(e,t))}function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,b._resolve(e,t))}function r(){t(i,n)}var s=!1,a=o(r);"error"===a._status&&n(a._value)}function o(e,t){var n={_status:null,_value:null};try{n._value=e(t),n._status="success"}catch(e){n._status="error",n._value=e}return n}Object.defineProperty(t,"__esModule",{value:!0});var s=0,a={},u=Array.prototype.slice,c="undefined"!=typeof window&&window.setImmediate?window.setImmediate:!(void 0===e||!e.setImmediate)&&e.setImmediate,f="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d=function(e){return e[0].apply(null,u.call(e,1))},h=function(e){var t,n=e.data;"string"==typeof n&&0===n.indexOf("setMsg")&&(t=a[n])&&(delete a[n],d(t))};f&&window.addEventListener("message",h);var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s++,i="setMsg"+n;return a[i]=e,window.postMessage(i,"*"),n};t.setFast=function(){return c?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c(function(){d(e)})}:f?l:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){d(e)},0)}}();var p=function(){},_=["R"],y=["F"],g=["P"],v=function(){function t(e){this._state=g,this._queue=[],this._outcome=void 0,e!==p&&r(this,e)}return t.doPolyFill=function(){void 0!==e&&(e.Promise||(e.Promise=this)),"undefined"!=typeof window&&(window.Promise||(window.Promise=this))},t.prototype.catch=function(e){return this.then(function(){},e)},t.prototype.then=function(e,i){if("function"!=typeof e&&this._state===y||"function"!=typeof i&&this._state===_)return this;var r=new t(p);if(this._state!==g){n(r,this._state===y?e:i,this._outcome)}else this._queue.push(new m(r,e,i));return r},t.resolve=function(e){return e instanceof this?e:b._resolve(new t(p),e)},t.reject=function(e){return b._reject(new t(p),e)},t.all=function(e){return new t(function(t,n){var i=[];if(!e.length)return void t([]);for(var r=function(n,r,o){void 0!==o?i.push(o):i.push(r),i.length==e.length&&t(i)},o=0;o<e.length;o++)!function(t){e[t].then(function(e){r(0,e,void 0)}).catch(function(e){r(0,void 0,e)})}(o)})},t.race=function(e){var n=this,i=e.length,r=!1,o=-1,s=new t(p);if(!1!==Array.isArray(e))return this.reject(new TypeError);if(!i)return this.resolve([]);for(;++o<i;)!function(e){n.resolve(e).then(function(e){r||(r=!0,b._resolve(s,e))},function(e){r||(r=!0,b._reject(s,e))})}(e[o]);return s},t}();t.Promise=v;var m=function(){function e(e,t,n){this._promise=e,"function"==typeof t&&(this._onFulfilled=t,this._callFulfilled=this._otherCallFulfilled),"function"==typeof n&&(this._onRejected=n,this._callRejected=this._otherCallRejected)}return e.prototype._callFulfilled=function(e){b._resolve(this._promise,e)},e.prototype._otherCallFulfilled=function(e){n(this._promise,this._onFulfilled,e)},e.prototype._callRejected=function(e){b._reject(this._promise,e)},e.prototype._otherCallRejected=function(e){n(this._promise,this._onRejected,e)},e}();t._QueueItem=m;var b=function(){function e(){}return e._resolve=function(t,n){var s=o(i,n),a=s._value,u=-1,c=t._queue.length;if("error"===s._status)return e._reject(t,s._value);if(a)r(t,a);else for(t._state=y,t._outcome=n;++u<c;)t._queue[u]._callFulfilled(n);return t},e._reject=function(e,t){e._state=_,e._outcome=t;for(var n=-1,i=e._queue.length;++n<i;)e._queue[n]._callRejected(t);return e},e}()}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(5),o=n(6);t.Promise=function(){return"undefined"!=typeof window&&window.Promise?window.Promise:void 0!==e&&e.Promise?e.Promise:i.Promise}(),t.stopWords=["a","about","after","all","also","am","an","and","andor","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","had","has","have","he","her","here","him","himself","his","how","i","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your"],t._assign=function(e){return e?JSON.parse(JSON.stringify(e)):null},t.fastCHAIN=function(e,n){return new t.Promise(function(t,r){if(!e||!e.length)return void t([]);var o=[],s=function(){o.length<e.length?n(e[o.length],o.length,function(e){o.push(e),o.length%100==0?i.setFast(s):s()}):t(o)};s()})},t.fastRACE=function(e,n){return new t.Promise(function(t,i){if(!e||!e.length)return void t([]);var r=!1,o=0,s=function(){o<e.length&&(n(e[o],o,function(e){r||(r=!0,t([e]))}),o++,s())};s()})},t.fastALL=function(e,n){return t.Promise.all((e||[]).map(function(e,i){return new t.Promise(function(t,r){n(e,i,function(e){t(e)})})}))};var s="undefined"==typeof window?"":navigator.userAgent||"";t.isSafari=0!==s.length&&(/^((?!chrome|android).)*safari/i.test(s)||/iPad|iPhone|iPod/.test(s)&&!window.MSStream),t.isMSBrowser=0!==s.length&&(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0),t.isAndroid=/Android/.test(s),t.random16Bits=function(){if("undefined"==typeof crypto)return Math.round(Math.random()*Math.pow(2,16));if(crypto.getRandomValues){var t=new Uint16Array(1);return crypto.getRandomValues(t),t[0]}return void 0!==e&&e._crypto.randomBytes?e._crypto.randomBytes(2).reduce(function(e,t){return t*e}):Math.round(Math.random()*Math.pow(2,16))},t.tokenizer=function(e,n,i,s,a){var u=function(e){return!e||(1===String(e).length||-1!==t.stopWords.indexOf(e))},c=(s||"").toLowerCase().replace(/(\d+)\/(\d+)|(?:\d+(?:,\d+)*|\d+)(?:\.\d+)?/gim,function(e,t,n){return t||n?(parseInt(t)/parseInt(n)).toFixed(a||4):parseFloat(e.replace(/\,/gim,"")).toFixed(a||4)}).replace(/\-|\_|\[|\]|\(|\)|\{|\}|\r?\n|\r|\t/gim," ").replace(/[^\w\s]|(\d\.)/gim,"$1").replace(/\s+/g," ").split(" ");switch(i[1]){case"english":return c.map(function(e,t){return{i:t,o:e,w:isNaN(e)?u(e)?"":r(o(e)):e}});case"english-stem":return c.map(function(e,t){return{i:t,o:e,w:isNaN(e)?u(e)?"":o(e):e}});case"english-meta":return c.map(function(e,t){return{i:t,o:e,w:isNaN(e)?u(e)?"":r(e):e}})}return c.map(function(e,t){return{o:e,w:e,i:t}})},t.timeid=function(e){for(var n=Math.round((new Date).getTime()/(e?1:1e3)).toString();n.length<(e?13:10);)n="0"+n;return n+"-"+(t.random16Bits()+t.random16Bits()).toString(16)},t.intersect=function(e,t){return!(!e||!t)&&(!(!e.length||!t.length)&&(e||[]).filter(function(e){return-1!==(t||[]).indexOf(e)}).length>0)},t.uuid=function(){var e,n,i="";return[i,i,i,i,i,i,i,i].reduce(function(r,o,s){for(e=t.random16Bits(),n=3===s?4:4===s?(e%16&3|8).toString(16):i,e=e.toString(16);e.length<4;)e="0"+e;return r+([2,3,4,5].indexOf(s)>-1?"-":i)+(n+e).slice(0,4)},i)},t.hash=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)};var a={int:function(e){return e},uuid:t.uuid,timeId:function(){return t.timeid()},timeIdms:function(){return t.timeid(!0)}};t.generateID=function(e,t){return a[e]?a[e](t||1):""},t.cleanArgs=function(e,n){for(var i={},r=e.length;r--;){var o=e[r].split(":");o.length>1?i[o[0]]=t.cast(o[1],n[o[0]]||void 0):i[o[0]]=n[o[0]]||void 0}return i},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.cast=function(e,n){if("any"===e||"blob"===e)return n;var i=typeof n;if("undefined"===i||null===n)return n;var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},o=function(e,n){switch(e){case"safestr":return o("string",n).replace(/[&<>"'`=\/]/gim,function(e){return r[e]});case"int":return"number"!==i||n%1!=0?parseInt(n||0):n;case"number":case"float":return"number"!==i?parseFloat(n||0):n;case"any[]":case"array":return Array.isArray(n)?n:[];case"uuid":case"timeId":case"timeIdms":case"string":return"string"!==i?String(n):n;case"object":case"obj":case"map":return t.isObject(n)?n:{};case"boolean":case"bool":return!0===n}return n},s=o(String(e||"").toLowerCase(),n);if(-1!==e.indexOf("[]")){var a=e.slice(0,e.lastIndexOf("[]"));return(n||[]).map(function(e){return t.cast(a,e)})}return void 0!==s?["int","float","number"].indexOf(e)>-1&&isNaN(s)?0:s:void 0},t.binarySearch=function(e,n,i,r){var o=i||0,s=r||e.length;if(e[o]>n)return o;if(e[s]<n)return s+1;var a=Math.floor((o+s)/2);return n===e[a]?a:s-1===o?s:n>e[a]?t.binarySearch(e,n,a,s):n<e[a]?t.binarySearch(e,n,o,a):s},t.removeDuplicates=function(e){if(!e.length)return[];for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==e[n-1]&&t.push(e[n]);return t},t.deepFreeze=function(e){return Object.getOwnPropertyNames(e||{}).forEach(function(n){var i=e[n];"object"==typeof i&&null!==i&&(e[n]=t.deepFreeze(i))}),Object.freeze(e)},t.crowDistance=function(e,t,n,i,r){void 0===r&&(r=6371);var o=function(e){return e*(Math.PI/180)},s=o(n-e),a=o(i-t),u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(o(e))*Math.cos(o(n))*Math.sin(a/2)*Math.sin(a/2);return r*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))};var u={};t.objQuery=function(e,t,n){var i=function(e,t,n){return e[t]&&n?i(e,t+1,n[e[t]]):n},r=e+(n?"1":"0");if(u[r])return i(u[r],0,t);var o=[];if(o=e.indexOf("[")>-1?[].concat.apply([],e.split(".").map(function(e){return e.match(/([^\[]+)|\[([^\]]+)\]\[/gim)||e})).map(function(e){return e.replace(/\[|\]/gim,"")}):e.split("."),n){var s=o.shift()+"."+o.shift();o.unshift(s)}return u[r]=o,i(u[r],0,t)}}).call(t,n(1))},function(e,t,n){e.exports=n(4)},function(e,t,n){var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),s=n(7);t.getMode=function(){return"undefined"!=typeof cordova&&window.sqlitePlugin?new a:"PERM"};var a=function(){function e(){this._pkKey={},this._dbIndex={}}return e.prototype.setID=function(e){this._id=e},e.prototype.connect=function(e){var t=this;if(!window.sqlitePlugin)throw Error("SQLite plugin not installed or nanoSQL plugin called before device ready!");console.log('NanoSQL "'+this._id+'" using SQLite.'),this._db=window.sqlitePlugin.openDatabase({name:this._id+"_db",location:"default"}),o.fastALL(Object.keys(this._pkKey),function(e,n,i){t._sql(!0,"CREATE TABLE IF NOT EXISTS "+e+" (id BLOB PRIMARY KEY UNIQUE, data TEXT)",[],function(){t._sql(!1,"SELECT id FROM "+e,[],function(n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).id);r=r.sort(),t._dbIndex[e].set(r),i()})})}).then(e)},e.prototype._chkTable=function(e){if(-1===Object.keys(this._dbIndex).indexOf(e))throw Error("No table "+e+" found!");return e},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new s.DatabaseIndex,t.forEach(function(t){t.props&&o.intersect(["pk","pk()"],t.props)&&(n._dbIndex[e].pkType=t.type,n._pkKey[e]=t.key,t.props&&o.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0),(t.props&&o.intersect(["ns","ns()"],t.props)||-1!==["uuid","timeId","timeIdms"].indexOf(n._dbIndex[e].pkType))&&(n._dbIndex[e].sortIndex=!1))})},e.prototype._sql=function(e,t,n,i){this._db.executeSql(t,n,function(e){i(e)},function(e){return console.error(t,n,e),!1})},e.prototype.write=function(e,t,n,r){if(!(t=t||o.generateID(this._dbIndex[e].pkType,this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");var s=!1;if(-1===this._dbIndex[e].indexOf(t)&&(s=!0,this._dbIndex[e].add(t)),s){var a=i({},n,(c={},c[this._pkKey[e]]=t,c));this._sql(!0,"INSERT into "+this._chkTable(e)+" (id, data) VALUES (?, ?)",[t,JSON.stringify(a)],function(e){r(a)})}else{var u=i({},n,(f={},f[this._pkKey[e]]=t,f));this._sql(!0,"UPDATE "+this._chkTable(e)+" SET data = ? WHERE id = ?",[JSON.stringify(u),t],function(){r(u)})}var c,f},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t),this._sql(!0,"DELETE FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(){n()})},e.prototype.read=function(e,t,n){this._sql(!1,"SELECT data FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(e){n(e.rows.length?JSON.parse(e.rows.item(0).data):void 0)})},e.prototype.rangeRead=function(e,t,n,i,o,s){var a=this,u=this._dbIndex[e].keys(),c=-1===[typeof i,typeof o].indexOf("undefined"),f=c?[i,o]:[];if(!u.length)return void n();s&&c||!1!==this._dbIndex[e].sortIndex||(u=u.sort()),s&&c&&(f=f.map(function(t){return a._dbIndex[e].getLocation(t)}));var d=f[0]||0,h=[],l=f[0],p="SELECT data from "+this._chkTable(e);if(f.length){for(var _="number"==typeof u[l];l<=f[1];)h.push(_?u[l]:'"'+u[l]+'"'),l++;p+=" WHERE id IN ("+h.map(function(e){return"?"}).join(", ")+")"}p+=" ORDER BY id",this._sql(!1,p,h.map(function(e){return"string"==typeof e?"'"+e+"'":e}),function(e){var i=0,o=function(){e.rows.length>i?t(JSON.parse(e.rows.item(i).data),d,function(){d++,i++,i>200?r.setFast(o):o()}):n()};o()})},e.prototype.batchRead=function(e,t,n){this._sql(!1,"SELECT data from "+this._chkTable(e)+" WHERE id IN ("+t.map(function(e){return"?"}).join(", ")+") ORDER BY id",t.map(function(e){return"string"==typeof e?"'"+e+"'":e}),function(e){for(var t=e.rows.length,i=[];t--;)i.unshift(JSON.parse(e.rows.item(t).data));n(i)})},e.prototype.drop=function(e,t){var n=new s.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n,this._sql(!0,"DELETE FROM "+this._chkTable(e),[],function(e){t()})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;o.fastALL(Object.keys(this._dbIndex),function(e,n,i){t.drop(e,i)}).then(e)},e}();t.SQLiteStore=a},function(e,t,n){"use strict";function i(e){function t(e){_+=e}function n(t){return e.charAt(y+t).toUpperCase()}function i(e){return function(){return n(e)}}var c,f,l,p,_="",y=0;if(!(e=String(e||"")))return"";for(f=i(1),l=i(0),p=i(-1);!u(l());){if(!l())return"";y++}switch(l()){case"A":"E"===f()?(t("E"),y+=2):(t("A"),y++);break;case"G":case"K":case"P":"N"===f()&&(t("N"),y+=2);break;case"W":"R"===f()?(t(f()),y+=2):"H"===f()?(t(l()),y+=2):s(f())&&(t("W"),y+=2);break;case"X":t("S"),y++;break;case"E":case"I":case"O":case"U":t(l()),y++}for(;l();)if(c=1,!u(l())||l()===p()&&"C"!==l())y+=c;else{switch(l()){case"B":"M"!==p()&&t("B");break;case"C":o(f())?"I"===f()&&"A"===n(2)?t(d):"S"!==p()&&t("S"):"H"===f()?(t(d),c++):t("K");break;case"D":"G"===f()&&o(n(2))?(t("J"),c++):t("T");break;case"G":"H"===f()?r(n(-3))||"H"===n(-4)||(t("F"),c++):"N"===f()?!u(n(2))||"E"===n(2)&&"D"===n(3)||t("K"):t(o(f())&&"G"!==p()?"J":"K");break;case"H":s(f())&&!a(p())&&t("H");break;case"K":"C"!==p()&&t("K");break;case"P":t("H"===f()?"F":"P");break;case"Q":t("K");break;case"S":"I"!==f()||"O"!==n(2)&&"A"!==n(2)?"H"===f()?(t(d),c++):t("S"):t(d);break;case"T":"I"!==f()||"O"!==n(2)&&"A"!==n(2)?"H"===f()?(t(h),c++):"C"===f()&&"H"===n(2)||t("T"):t(d);break;case"V":t("F");break;case"W":s(f())&&t("W");break;case"X":t("KS");break;case"Y":s(f())&&t("Y");break;case"Z":t("S");break;case"F":case"J":case"L":case"M":case"N":case"R":t(l())}y+=c}return _}function r(e){return"B"===(e=f(e))||"D"===e||"H"===e}function o(e){return"E"===(e=f(e))||"I"===e||"Y"===e}function s(e){return"A"===(e=f(e))||"E"===e||"I"===e||"O"===e||"U"===e}function a(e){return"C"===(e=f(e))||"G"===e||"P"===e||"S"===e||"T"===e}function u(e){var t=c(e);return t>=65&&t<=90}function c(e){return f(e).charCodeAt(0)}function f(e){return String(e).charAt(0).toUpperCase()}e.exports=i;var d="X",h="0"},function(e,t,n){"use strict";function i(e){var t,n;return e=String(e).toLowerCase(),e.length<3?e:(e.charCodeAt(0)===r&&(t=!0,e="Y"+e.substr(1)),b.test(e)?e=e.substr(0,e.length-2):m.test(e)&&(e=e.substr(0,e.length-1)),(n=v.exec(e))?a.test(n[1])&&(e=e.substr(0,e.length-1)):(n=y.exec(e))&&f.test(n[1])&&(e=n[1],g.test(e)?e+="e":w.test(e)?e=e.substr(0,e.length-1):d.test(e)&&(e+="e")),(n=p.exec(e))&&f.test(n[1])&&(e=n[1]+"i"),(n=x.exec(e))&&a.test(n[1])&&(e=n[1]+o[n[2]]),(n=I.exec(e))&&a.test(n[1])&&(e=n[1]+s[n[2]]),(n=E.exec(e))?c.test(n[1])&&(e=n[1]):(n=_.exec(e))&&c.test(n[1])&&(e=n[1]),(n=l.exec(e))&&(c.test(n[1])||u.test(n[1])&&!d.test(n[1]))&&(e=n[1]),h.test(e)&&c.test(e)&&(e=e.substr(0,e.length-1)),t&&(e="y"+e.substr(1)),e)}e.exports=i;var r="y".charCodeAt(0),o={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},a=new RegExp("^([^aeiou][^aeiouy]*)?([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)"),u=new RegExp("^([^aeiou][^aeiouy]*)?([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)([aeiouy][aeiou]*)?$"),c=new RegExp("^([^aeiou][^aeiouy]*)?(([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)){2,}"),f=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),d=new RegExp("^([^aeiou][^aeiouy]*)[aeiouy][^aeiouwxy]$"),h=/ll$/,l=/^(.+?)e$/,p=/^(.+?)y$/,_=/^(.+?(s|t))(ion)$/,y=/^(.+?)(ed|ing)$/,g=/(at|bl|iz)$/,v=/^(.+?)eed$/,m=/^.+?[^s]s$/,b=/^.+?(ss|i)es$/,w=/([^aeiouylsz])\1$/,x=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),I=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,E=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){function e(){this._sorted=[],this._exists={},this.ai=1,this.sortIndex=!0,this.doAI=!1}return e.prototype.clone=function(t){this._changeCB&&!t&&this._changeCB(this._ta,"drop",null);var n=new e;return n.doAI=this.doAI,n.ai=this.ai,n.sortIndex=this.sortIndex,n._changeCB=this._changeCB,n._ta=this._ta,n.pkType=this.pkType,t&&this.set([]),n},e.prototype.onChange=function(e,t){this._ta=e,this._changeCB=t},e.prototype.set=function(e){var t=this;this._sorted=e||[],this._exists={},this._sorted.forEach(function(e,n){t._exists[String(e)]=!0}),this.doAI&&this._sorted.length&&(this.ai=this._sorted[this._sorted.length-1]+1)},e.prototype.getLocation=function(e,t){var n=this.indexOf(e);return-1!==n?n:this.sortIndex?i.binarySearch(this._sorted,e,t):i.binarySearch(this._sorted.sort(function(e,t){return e>t?1:-1}),e,t)},e.prototype.add=function(e,t){if(!this._exists[String(e)])if(this._changeCB&&!t&&this._changeCB(this._ta,"add",e),this._exists[String(e)]=!0,t&&-1!==["number","int","float"].indexOf(this.pkType)&&(e=parseFloat(e)),this.doAI)this.ai++,this._sorted.push(e);else if(this.sortIndex){var n=i.binarySearch(this._sorted,e);this._sorted.splice(n,0,e)}else this._sorted.push(e)},e.prototype.keys=function(){return this._sorted},e.prototype.exists=function(e){return!!this._exists[String(e)]},e.prototype.indexOf=function(e){return this._exists[String(e)]?this.sortIndex?i.binarySearch(this._sorted,e):this._sorted.indexOf(e):-1},e.prototype.remove=function(e,t){if(this._changeCB&&!t&&this._changeCB(this._ta,"rm",e),t&&-1!==["number","int","float"].indexOf(this.pkType)&&(e=parseFloat(e)),this._exists[String(e)]){var n=this.indexOf(e);this._exists[String(e)]=!1,this._sorted.splice(n,1)}},e}();t.DatabaseIndex=r,t.syncPeerIndex=function(e,t){e.peerMode&&(Object.keys(t).forEach(function(n){t[n].onChange(n,function(t,n,r){e.peers.filter(function(t){return t!==e.pid}).forEach(function(e){localStorage.setItem(e+"::"+i.random16Bits().toString(16),n+","+t+","+(r||""))})})}),window.addEventListener("storage",function(n){if(n.key&&-1!==n.key.indexOf(e.pid+"::")){var i=(n.newValue||"").split(",");switch(localStorage.removeItem(n.key),i[0]){case"rm":t[i[1]].remove(i[2],!0);break;case"add":t[i[1]].add(i[2],!0);break;case"drop":t[i[1]].clone(!0)}}}))}}])});